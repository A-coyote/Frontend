{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrador\\\\Documents\\\\Proyectos\\\\control_calidad\\\\frontend\\\\src\\\\pages\\\\Proyectos\\\\Tareas.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { TextField, Table, TableBody, TableCell, TableContainer, TableFooter, TablePagination, TableRow, TableHead, Paper, Box, Grid, IconButton } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { useTheme } from '@mui/material/styles';\nimport FirstPageIcon from '@mui/icons-material/FirstPage';\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@mui/icons-material/KeyboardArrowRight';\nimport LastPageIcon from '@mui/icons-material/LastPage';\nimport EditIcon from '@mui/icons-material/Edit';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport AlertMessage from '../../components/AlertMessage'; // Importar el componente de alerta\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TablePaginationActions(props) {\n  _s();\n  const theme = useTheme();\n  const {\n    count,\n    page,\n    rowsPerPage,\n    onPageChange\n  } = props;\n  const handleFirstPageButtonClick = event => {\n    onPageChange(event, 0);\n  };\n  const handleBackButtonClick = event => {\n    onPageChange(event, page - 1);\n  };\n  const handleNextButtonClick = event => {\n    onPageChange(event, page + 1);\n  };\n  const handleLastPageButtonClick = event => {\n    onPageChange(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      flexShrink: 0,\n      ml: 2.5\n    },\n    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n      onClick: handleFirstPageButtonClick,\n      disabled: page === 0,\n      \"aria-label\": \"first page\",\n      children: theme.direction === 'rtl' ? /*#__PURE__*/_jsxDEV(LastPageIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 38\n      }, this) : /*#__PURE__*/_jsxDEV(FirstPageIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 57\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n      onClick: handleBackButtonClick,\n      disabled: page === 0,\n      \"aria-label\": \"previous page\",\n      children: theme.direction === 'rtl' ? /*#__PURE__*/_jsxDEV(KeyboardArrowRight, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 38\n      }, this) : /*#__PURE__*/_jsxDEV(KeyboardArrowLeft, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 63\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n      onClick: handleNextButtonClick,\n      disabled: page >= Math.ceil(count / rowsPerPage) - 1,\n      \"aria-label\": \"next page\",\n      children: theme.direction === 'rtl' ? /*#__PURE__*/_jsxDEV(KeyboardArrowLeft, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 38\n      }, this) : /*#__PURE__*/_jsxDEV(KeyboardArrowRight, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 62\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n      onClick: handleLastPageButtonClick,\n      disabled: page >= Math.ceil(count / rowsPerPage) - 1,\n      \"aria-label\": \"last page\",\n      children: theme.direction === 'rtl' ? /*#__PURE__*/_jsxDEV(FirstPageIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 38\n      }, this) : /*#__PURE__*/_jsxDEV(LastPageIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 58\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(TablePaginationActions, \"VrMvFCCB9Haniz3VCRPNUiCauHs=\", false, function () {\n  return [useTheme];\n});\n_c = TablePaginationActions;\nconst Tareas = ({\n  permissions\n}) => {\n  _s2();\n  const [showAlert, setShowAlert] = useState(null); // Estado de la alerta\n  const [tareas, setTareas] = useState([]); // Cambio de 'roles' a 'tareas'\n  const [search, setSearch] = useState('');\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(5);\n  const navigate = useNavigate();\n\n  // Temporizador para limpiar la alerta después de 3 segundos\n  const alertTimeout = useRef(null);\n  const fetchTareas = async (searchTerm = '') => {\n    try {\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: {\n          'x-auth-token': token\n        }\n      };\n      const response = await fetch(`http://localhost:5000/api/tareas/tarea?search=${searchTerm}`, config);\n\n      // Comprobar si el estado de la respuesta es OK (rango 2xx)\n      if (!response.ok) {\n        if (response.status === 401) {\n          // Manejar el caso de 401 (No autorizado)\n          throw new Error('No autorizado. Por favor, inicie sesión.');\n        }\n        throw new Error('Error al obtener las tareas. El servidor respondió con el código ' + response.status);\n      }\n\n      // Comprobar si la respuesta es en formato JSON\n      const contentType = response.headers.get('Content-Type');\n      if (!contentType || !contentType.includes('application/json')) {\n        throw new Error('La respuesta del servidor no es JSON. Content-Type: ' + contentType);\n      }\n      const data = await response.json(); // Ahora puedes parsear el JSON de forma segura\n      setTareas(data); // Actualiza el estado con los datos obtenidos\n    } catch (error) {\n      console.error('Error al obtener las tareas:', error);\n      // Muestra una alerta con el mensaje de error\n      setShowAlert({\n        severity: 'error',\n        message: error.message || 'Error al obtener las tareas'\n      });\n    }\n  };\n  useEffect(() => {\n    fetchTareas(search);\n  }, [search]);\n\n  // Handle page change\n  const handlePageChange = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  // Handle rows per page change\n  const handleRowsPerPageChange = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  // Handle task creation\n  const handleCrearPlanPrueba = id => {\n    navigate(`/proyectos/crear-pruebas/${id}`); // Redireccion a la página de crear tarea\n  };\n\n  // Handle task creation\n  const handleVerPorHitos = id => {\n    navigate(`/proyectos/hitos-pruebas/${id}`); // Redireccion a la página de crear tarea\n  };\n\n  // Handle task update\n  const handleActualizarTarea = id => {\n    navigate(`/proyectos/editar-tarea/${id}`); // Redireccion para actualizar una tarea\n  };\n\n  // Set up the timeout to clear the alert after 3 seconds\n  useEffect(() => {\n    if (showAlert) {\n      // Clear the previous timeout if any\n      if (alertTimeout.current) {\n        clearTimeout(alertTimeout.current);\n      }\n\n      // Set the new timeout to clear the alert\n      alertTimeout.current = setTimeout(() => {\n        setShowAlert(null); // Hide the alert after 3 seconds\n      }, 3000);\n    }\n\n    // Cleanup the timeout when the component unmounts\n    return () => {\n      if (alertTimeout.current) {\n        clearTimeout(alertTimeout.current);\n      }\n    };\n  }, [showAlert]);\n  const emptyRows = page > 0 ? Math.max(0, (1 + page) * rowsPerPage - tareas.length) : 0;\n  const hasHItos = permissions.some(permission => permission.MenuID === 20);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      padding: 2\n    },\n    children: [showAlert && /*#__PURE__*/_jsxDEV(AlertMessage, {\n      severity: showAlert.severity,\n      message: showAlert.message,\n      autoHideDuration: 1000 // La alerta se cierra después de 3 segundos\n      ,\n      sx: {\n        mb: 4\n      } // Agregar margen inferior a la alerta\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      alignItems: \"center\",\n      sx: {\n        marginBottom: '50px',\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Buscar Tarea\",\n          variant: \"outlined\",\n          value: search,\n          onChange: e => setSearch(e.target.value),\n          sx: {\n            width: 300\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        sx: {\n          minWidth: 500\n        },\n        \"aria-label\": \"custom pagination table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Test Plant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Hitos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: \"Nombre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: \"Descripci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: \"Fecha Inicio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: \"Fecha de Finalizaci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: \"Estado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: \"Presupuesto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: \"Usuario Responsable\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: \"Fecha de creaci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: \"\\xDAltima modificaci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Acciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: [(rowsPerPage > 0 ? tareas.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage) : tareas).map(tarea => /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: () => handleCrearPlanPrueba(tarea.proyecto_id),\n                color: \"primary\",\n                \"aria-label\": \"crear pruebas\",\n                children: /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: () => handleVerPorHitos(tarea.proyecto_id),\n                color: \"primary\",\n                \"aria-label\": \"Ver pruebas\",\n                disabl: true,\n                children: /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: tarea.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: tarea.descripcion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: [\" \", new Date(tarea.fecha_inicio).toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: new Date(tarea.fecha_finalizacion).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: tarea.estado\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: tarea.presupuesto\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: tarea.u_usuario\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: [\" \", new Date(tarea.fecha_creacion).toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: new Date(tarea.fecha_actualizacion).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  justifyContent: 'center'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"primary\",\n                  onClick: () => handleActualizarTarea(tarea.proyecto_id),\n                  \"aria-label\": \"editar\",\n                  children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this)]\n          }, tarea.proyecto_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)), emptyRows > 0 && /*#__PURE__*/_jsxDEV(TableRow, {\n            style: {\n              height: 53 * emptyRows\n            },\n            children: /*#__PURE__*/_jsxDEV(TableCell, {\n              colSpan: 6\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableFooter, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: /*#__PURE__*/_jsxDEV(TablePagination, {\n              rowsPerPageOptions: [5, 10, 25],\n              colSpan: 3,\n              count: tareas.length,\n              rowsPerPage: rowsPerPage,\n              page: page,\n              onPageChange: handlePageChange,\n              onRowsPerPageChange: handleRowsPerPageChange,\n              ActionsComponent: TablePaginationActions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n};\n_s2(Tareas, \"IGvt7aTrLiAVDRok4qN+TMKqNgI=\", false, function () {\n  return [useNavigate];\n});\n_c2 = Tareas;\nexport default Tareas;\nvar _c, _c2;\n$RefreshReg$(_c, \"TablePaginationActions\");\n$RefreshReg$(_c2, \"Tareas\");","map":{"version":3,"names":["React","useState","useEffect","useRef","TextField","Table","TableBody","TableCell","TableContainer","TableFooter","TablePagination","TableRow","TableHead","Paper","Box","Grid","IconButton","useNavigate","useTheme","FirstPageIcon","KeyboardArrowLeft","KeyboardArrowRight","LastPageIcon","EditIcon","VisibilityIcon","AlertMessage","jsxDEV","_jsxDEV","TablePaginationActions","props","_s","theme","count","page","rowsPerPage","onPageChange","handleFirstPageButtonClick","event","handleBackButtonClick","handleNextButtonClick","handleLastPageButtonClick","Math","max","ceil","sx","flexShrink","ml","children","onClick","disabled","direction","fileName","_jsxFileName","lineNumber","columnNumber","_c","Tareas","permissions","_s2","showAlert","setShowAlert","tareas","setTareas","search","setSearch","setPage","setRowsPerPage","navigate","alertTimeout","fetchTareas","searchTerm","token","localStorage","getItem","config","headers","response","fetch","ok","status","Error","contentType","get","includes","data","json","error","console","severity","message","handlePageChange","newPage","handleRowsPerPageChange","parseInt","target","value","handleCrearPlanPrueba","id","handleVerPorHitos","handleActualizarTarea","current","clearTimeout","setTimeout","emptyRows","length","hasHItos","some","permission","MenuID","display","flexDirection","alignItems","justifyContent","padding","autoHideDuration","mb","container","spacing","marginBottom","width","item","label","variant","onChange","e","component","minWidth","align","slice","map","tarea","proyecto_id","color","disabl","nombre","descripcion","Date","fecha_inicio","toLocaleDateString","fecha_finalizacion","estado","presupuesto","u_usuario","fecha_creacion","fecha_actualizacion","style","height","colSpan","rowsPerPageOptions","onRowsPerPageChange","ActionsComponent","_c2","$RefreshReg$"],"sources":["C:/Users/Administrador/Documents/Proyectos/control_calidad/frontend/src/pages/Proyectos/Tareas.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { TextField, Table, TableBody, TableCell, TableContainer, TableFooter, TablePagination, TableRow, TableHead, Paper, Box, Grid, IconButton } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport FirstPageIcon from '@mui/icons-material/FirstPage';\r\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@mui/icons-material/KeyboardArrowRight';\r\nimport LastPageIcon from '@mui/icons-material/LastPage';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport AlertMessage from '../../components/AlertMessage'; // Importar el componente de alerta\r\n\r\nfunction TablePaginationActions(props) {\r\n  const theme = useTheme();\r\n  const { count, page, rowsPerPage, onPageChange } = props;\r\n\r\n  const handleFirstPageButtonClick = (event) => {\r\n    onPageChange(event, 0);\r\n  };\r\n\r\n  const handleBackButtonClick = (event) => {\r\n    onPageChange(event, page - 1);\r\n  };\r\n\r\n  const handleNextButtonClick = (event) => {\r\n    onPageChange(event, page + 1);\r\n  };\r\n\r\n  const handleLastPageButtonClick = (event) => {\r\n    onPageChange(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ flexShrink: 0, ml: 2.5 }}>\r\n      <IconButton\r\n        onClick={handleFirstPageButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"first page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleBackButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"previous page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleNextButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"next page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleLastPageButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"last page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\r\n      </IconButton>\r\n    </Box>\r\n  );\r\n}\r\n\r\nconst Tareas = ({ permissions }) => {\r\n  const [showAlert, setShowAlert] = useState(null); // Estado de la alerta\r\n  const [tareas, setTareas] = useState([]);  // Cambio de 'roles' a 'tareas'\r\n  const [search, setSearch] = useState('');\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(5);\r\n  const navigate = useNavigate();\r\n\r\n  // Temporizador para limpiar la alerta después de 3 segundos\r\n  const alertTimeout = useRef(null);\r\n\r\n  const fetchTareas = async (searchTerm = '') => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { 'x-auth-token': token } };\r\n      const response = await fetch(`http://localhost:5000/api/tareas/tarea?search=${searchTerm}`, config);\r\n\r\n      // Comprobar si el estado de la respuesta es OK (rango 2xx)\r\n      if (!response.ok) {\r\n        if (response.status === 401) {\r\n          // Manejar el caso de 401 (No autorizado)\r\n          throw new Error('No autorizado. Por favor, inicie sesión.');\r\n        }\r\n        throw new Error('Error al obtener las tareas. El servidor respondió con el código ' + response.status);\r\n      }\r\n\r\n      // Comprobar si la respuesta es en formato JSON\r\n      const contentType = response.headers.get('Content-Type');\r\n      if (!contentType || !contentType.includes('application/json')) {\r\n        throw new Error('La respuesta del servidor no es JSON. Content-Type: ' + contentType);\r\n      }\r\n\r\n      const data = await response.json();  // Ahora puedes parsear el JSON de forma segura\r\n      setTareas(data);  // Actualiza el estado con los datos obtenidos\r\n\r\n    } catch (error) {\r\n      console.error('Error al obtener las tareas:', error);\r\n      // Muestra una alerta con el mensaje de error\r\n      setShowAlert({ severity: 'error', message: error.message || 'Error al obtener las tareas' });\r\n    }\r\n  };\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    fetchTareas(search);\r\n  }, [search]);\r\n\r\n  // Handle page change\r\n  const handlePageChange = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  // Handle rows per page change\r\n  const handleRowsPerPageChange = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  // Handle task creation\r\n  const handleCrearPlanPrueba = (id) => {\r\n    navigate(`/proyectos/crear-pruebas/${id}`);  // Redireccion a la página de crear tarea\r\n  };\r\n\r\n  // Handle task creation\r\n  const handleVerPorHitos = (id) => {\r\n    navigate(`/proyectos/hitos-pruebas/${id}`);  // Redireccion a la página de crear tarea\r\n  };\r\n\r\n  // Handle task update\r\n  const handleActualizarTarea = (id) => {\r\n    navigate(`/proyectos/editar-tarea/${id}`); // Redireccion para actualizar una tarea\r\n  };\r\n\r\n  // Set up the timeout to clear the alert after 3 seconds\r\n  useEffect(() => {\r\n    if (showAlert) {\r\n      // Clear the previous timeout if any\r\n      if (alertTimeout.current) {\r\n        clearTimeout(alertTimeout.current);\r\n      }\r\n\r\n      // Set the new timeout to clear the alert\r\n      alertTimeout.current = setTimeout(() => {\r\n        setShowAlert(null); // Hide the alert after 3 seconds\r\n      }, 3000);\r\n    }\r\n\r\n    // Cleanup the timeout when the component unmounts\r\n    return () => {\r\n      if (alertTimeout.current) {\r\n        clearTimeout(alertTimeout.current);\r\n      }\r\n    };\r\n  }, [showAlert]);\r\n\r\n  const emptyRows =\r\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - tareas.length) : 0;\r\n\r\n    const hasHItos = permissions.some(permission => permission.MenuID === 20);\r\n\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', padding: 2 }}>\r\n\r\n      {/* Mostrar la alerta si hay algún mensaje */}\r\n      {showAlert && (\r\n        <AlertMessage\r\n          severity={showAlert.severity}\r\n          message={showAlert.message}\r\n          autoHideDuration={1000} // La alerta se cierra después de 3 segundos\r\n          sx={{ mb: 4 }} // Agregar margen inferior a la alerta\r\n        />\r\n      )}\r\n\r\n      <Grid container spacing={2} alignItems=\"center\" sx={{ marginBottom: '50px', width: '100%' }}>\r\n        <Grid item>\r\n          <TextField\r\n            label=\"Buscar Tarea\"\r\n            variant=\"outlined\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            sx={{ width: 300 }}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <TableContainer component={Paper}>\r\n        <Table sx={{ minWidth: 500 }} aria-label=\"custom pagination table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Test Plant</TableCell>\r\n              <TableCell>Hitos</TableCell>\r\n              <TableCell align=\"left\">Nombre</TableCell>\r\n              <TableCell align=\"left\">Descripción</TableCell>\r\n              <TableCell align=\"left\">Fecha Inicio</TableCell>\r\n              <TableCell align=\"left\">Fecha de Finalización</TableCell>\r\n              <TableCell align=\"left\">Estado</TableCell>\r\n              <TableCell align=\"left\">Presupuesto</TableCell>\r\n              <TableCell align=\"left\">Usuario Responsable</TableCell>\r\n              <TableCell align=\"left\">Fecha de creación</TableCell>\r\n              <TableCell align=\"left\">Última modificación</TableCell>\r\n              <TableCell align=\"center\">Acciones</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n\r\n          <TableBody>\r\n            {(rowsPerPage > 0\r\n              ? tareas.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              : tareas\r\n            ).map((tarea) => (\r\n              <TableRow key={tarea.proyecto_id}>\r\n                 <TableCell>\r\n                  <IconButton\r\n                    onClick={() => handleCrearPlanPrueba(tarea.proyecto_id)}\r\n                    color=\"primary\"\r\n                    aria-label=\"crear pruebas\"\r\n                  >\r\n                    <VisibilityIcon />\r\n                  </IconButton>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <IconButton\r\n                    onClick={() => handleVerPorHitos(tarea.proyecto_id)}\r\n                    color=\"primary\"\r\n                    aria-label=\"Ver pruebas\"\r\n                    disabl\r\n                  >\r\n                    <VisibilityIcon />\r\n                  </IconButton>\r\n                </TableCell>\r\n                <TableCell>{tarea.nombre}</TableCell>\r\n                <TableCell>{tarea.descripcion}</TableCell>\r\n                <TableCell> {new Date(tarea.fecha_inicio).toLocaleDateString()}</TableCell>\r\n                <TableCell>{new Date(tarea.fecha_finalizacion).toLocaleDateString()}</TableCell>\r\n                <TableCell>{tarea.estado}</TableCell>\r\n                <TableCell>{tarea.presupuesto}</TableCell>\r\n                <TableCell>{tarea.u_usuario}</TableCell>\r\n                <TableCell> {new Date(tarea.fecha_creacion).toLocaleDateString()}</TableCell>\r\n                <TableCell>{new Date(tarea.fecha_actualizacion).toLocaleDateString()}</TableCell>\r\n                <TableCell align=\"center\">\r\n                  <Box sx={{ display: 'flex', justifyContent: 'center' }}>\r\n                    <IconButton\r\n                      color=\"primary\"\r\n                      onClick={() => handleActualizarTarea(tarea.proyecto_id)}\r\n                      aria-label=\"editar\"\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n                  </Box>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n\r\n            {emptyRows > 0 && (\r\n              <TableRow style={{ height: 53 * emptyRows }}>\r\n                <TableCell colSpan={6} />\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n\r\n\r\n          <TableFooter>\r\n            <TableRow>\r\n              <TablePagination\r\n                rowsPerPageOptions={[5, 10, 25]}\r\n                colSpan={3}\r\n                count={tareas.length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                onPageChange={handlePageChange}\r\n                onRowsPerPageChange={handleRowsPerPageChange}\r\n                ActionsComponent={TablePaginationActions}\r\n              />\r\n            </TableRow>\r\n          </TableFooter>\r\n        </Table>\r\n      </TableContainer>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Tareas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}