{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box,Typography,Checkbox,FormControlLabel,TextField,Accordion,AccordionSummary,AccordionDetails,Grid,Button}from'@mui/material';import ExpandMoreIcon from'@mui/icons-material/ExpandMore';import{useNavigate,useParams}from'react-router-dom';import axios from'axios';import AlertMessage from'../../components/AlertMessage';import{isAuthenticated}from'../../utils/auth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CrearPermisos=()=>{const[showAlert,setShowAlert]=useState(null);const navigate=useNavigate();const{id}=useParams();// roleId\nconst[rolName,setRolName]=useState('');const[descripcion,setDescripcion]=useState('');const[menus,setMenus]=useState([]);const[selectedMenus,setSelectedMenus]=useState({});useEffect(()=>{if(!isAuthenticated()){navigate('/login');}else{if(id){fetchRoleData(id);}fetchMenus();}},[id,navigate]);const fetchRoleData=async roleId=>{try{const token=localStorage.getItem('token');const config={headers:{'x-auth-token':token}};const response=await axios.get(`http://localhost:5000/api/roles/roledit/${roleId}`,config);const roleData=response.data;setRolName(roleData.NOMBRE);setDescripcion(roleData.DESCRIPCION);}catch(error){setShowAlert({severity:'error',message:'Error loading role data.'});}};const fetchMenus=async()=>{try{const token=localStorage.getItem('token');const config={headers:{'x-auth-token':token}};const response=await axios.get('http://localhost:5000/api/navigation/menu',config);setMenus(response.data);}catch(error){setShowAlert({severity:'error',message:'Error al cargar los módulos.'});}};const handleMenuSelection=menuId=>{setSelectedMenus(prevState=>{const updatedSelection={...prevState};updatedSelection[menuId]=!updatedSelection[menuId];return updatedSelection;});};const organizeMenus=()=>{const mainMenus=menus.filter(menu=>menu.ParentMenuID===0);const subMenus=menus.filter(menu=>menu.ParentMenuID!==0&&menu.ParentMenuID!==menu.MenuID);const subSubMenus=menus.filter(menu=>menu.Accion===1||menu.Accion===2);return mainMenus.map(mainMenu=>({...mainMenu,subMenus:subMenus.filter(subMenu=>subMenu.ParentMenuID===mainMenu.MenuID).map(subMenu=>({...subMenu,subSubMenus:subSubMenus.filter(subSubMenu=>subSubMenu.ParentMenuID===subMenu.MenuID)}))}));};const savePermissions=async()=>{try{const token=localStorage.getItem('token');const config={headers:{'x-auth-token':token}};const permissionsToSave=Object.keys(selectedMenus).filter(menuId=>selectedMenus[menuId]).map(menuId=>({menuId:parseInt(menuId,10)// Convertir a número\n}));if(permissionsToSave.length===0){setShowAlert({severity:'warning',message:'No se ha seleccionado ningún menú.'});return;}const response=await axios.post('http://localhost:5000/api/navigation/permissions/',{roleId:parseInt(id,10),permissions:permissionsToSave},config);if(response.status===201){setShowAlert({severity:'success',message:'Permisos guardados exitosamente.'});}else{setShowAlert({severity:'error',message:'Error al guardar permisos.'});}}catch(error){setShowAlert({severity:'error',message:'Error al guardar permisos.'});}};const organizedMenus=organizeMenus();return/*#__PURE__*/_jsxs(Box,{sx:{padding:5},children:[showAlert&&/*#__PURE__*/_jsx(AlertMessage,{severity:showAlert.severity,message:showAlert.message,autoHideDuration:2000,sx:{mb:4}}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",textAlign:\"center\",gutterBottom:true,children:\"Asignaci\\xF3n de permisos\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,sx:{mb:5},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Nombre del Rol\",value:rolName,InputProps:{readOnly:true,style:{backgroundColor:'#f5f5f5'}},variant:\"outlined\",size:\"small\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Descripci\\xF3n\",value:descripcion,InputProps:{readOnly:true,style:{backgroundColor:'#f5f5f5'}},variant:\"outlined\",size:\"small\"})})]}),organizedMenus.map(menu=>/*#__PURE__*/_jsxs(Accordion,{children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{}),children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:menu.DisplayName})}),/*#__PURE__*/_jsxs(AccordionDetails,{children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:selectedMenus[menu.MenuID]||false,onChange:()=>handleMenuSelection(menu.MenuID),color:\"primary\"}),label:`Asignar modulo de ${menu.DisplayName}`}),menu.subMenus.map(subMenu=>/*#__PURE__*/_jsxs(Accordion,{sx:{ml:3},children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{}),children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:subMenu.DisplayName})}),/*#__PURE__*/_jsxs(AccordionDetails,{children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:selectedMenus[subMenu.MenuID]||false,onChange:()=>handleMenuSelection(subMenu.MenuID),color:\"primary\"}),label:`Permitir ver ${subMenu.DisplayName}`}),subMenu.subSubMenus.map(subSubMenu=>/*#__PURE__*/_jsx(Box,{sx:{ml:5},children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:selectedMenus[subSubMenu.MenuID]||false,onChange:()=>handleMenuSelection(subSubMenu.MenuID),color:\"primary\"}),label:`Permitir ${subSubMenu.DisplayName}`})},subSubMenu.MenuID))]})]},subMenu.MenuID))]})]},menu.MenuID)),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:savePermissions,sx:{mt:3},children:\"Guardar Permisos\"})]});};export default CrearPermisos;","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Checkbox","FormControlLabel","TextField","Accordion","AccordionSummary","AccordionDetails","Grid","Button","ExpandMoreIcon","useNavigate","useParams","axios","AlertMessage","isAuthenticated","jsx","_jsx","jsxs","_jsxs","CrearPermisos","showAlert","setShowAlert","navigate","id","rolName","setRolName","descripcion","setDescripcion","menus","setMenus","selectedMenus","setSelectedMenus","fetchRoleData","fetchMenus","roleId","token","localStorage","getItem","config","headers","response","get","roleData","data","NOMBRE","DESCRIPCION","error","severity","message","handleMenuSelection","menuId","prevState","updatedSelection","organizeMenus","mainMenus","filter","menu","ParentMenuID","subMenus","MenuID","subSubMenus","Accion","map","mainMenu","subMenu","subSubMenu","savePermissions","permissionsToSave","Object","keys","parseInt","length","post","permissions","status","organizedMenus","sx","padding","children","autoHideDuration","mb","variant","textAlign","gutterBottom","container","spacing","item","xs","sm","fullWidth","label","value","InputProps","readOnly","style","backgroundColor","size","expandIcon","DisplayName","control","checked","onChange","color","ml","onClick","mt"],"sources":["C:/Users/Administrador/Documents/Proyectos/control_calidad/frontend/src/pages/Seguridad/CrearPermisos.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  TextField,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  Grid,\r\n  Button,\r\n} from '@mui/material';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport AlertMessage from '../../components/AlertMessage';\r\nimport { isAuthenticated } from '../../utils/auth';\r\n\r\nconst CrearPermisos = () => {\r\n  const [showAlert, setShowAlert] = useState(null);\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();  // roleId\r\n\r\n  const [rolName, setRolName] = useState('');\r\n  const [descripcion, setDescripcion] = useState('');\r\n  const [menus, setMenus] = useState([]);\r\n  const [selectedMenus, setSelectedMenus] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated()) {\r\n      navigate('/login');\r\n    } else {\r\n      if (id) {\r\n        fetchRoleData(id);\r\n      }\r\n      fetchMenus();\r\n    }\r\n  }, [id, navigate]);\r\n\r\n  const fetchRoleData = async (roleId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { 'x-auth-token': token } };\r\n      const response = await axios.get(`http://localhost:5000/api/roles/roledit/${roleId}`, config);\r\n      const roleData = response.data;\r\n      setRolName(roleData.NOMBRE);\r\n      setDescripcion(roleData.DESCRIPCION);\r\n    } catch (error) {\r\n      setShowAlert({ severity: 'error', message: 'Error loading role data.' });\r\n    }\r\n  };\r\n\r\n  const fetchMenus = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { 'x-auth-token': token } };\r\n      const response = await axios.get('http://localhost:5000/api/navigation/menu', config);\r\n      setMenus(response.data);\r\n    } catch (error) {\r\n      setShowAlert({ severity: 'error', message: 'Error al cargar los módulos.' });\r\n    }\r\n  };\r\n\r\n  const handleMenuSelection = (menuId) => {\r\n    setSelectedMenus((prevState) => {\r\n      const updatedSelection = { ...prevState };\r\n      updatedSelection[menuId] = !updatedSelection[menuId];\r\n      return updatedSelection;\r\n    });\r\n  };\r\n\r\n  const organizeMenus = () => {\r\n    const mainMenus = menus.filter((menu) => menu.ParentMenuID === 0);\r\n    const subMenus = menus.filter((menu) => menu.ParentMenuID !== 0 && menu.ParentMenuID !== menu.MenuID);\r\n    const subSubMenus = menus.filter((menu) => menu.Accion === 1 || menu.Accion === 2);\r\n\r\n    return mainMenus.map((mainMenu) => ({\r\n      ...mainMenu,\r\n      subMenus: subMenus\r\n        .filter((subMenu) => subMenu.ParentMenuID === mainMenu.MenuID)\r\n        .map((subMenu) => ({\r\n          ...subMenu,\r\n          subSubMenus: subSubMenus.filter((subSubMenu) => subSubMenu.ParentMenuID === subMenu.MenuID),\r\n        })),\r\n    }));\r\n  };\r\n\r\n  const savePermissions = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { 'x-auth-token': token } };\r\n\r\n      const permissionsToSave = Object.keys(selectedMenus)\r\n        .filter(menuId => selectedMenus[menuId])\r\n        .map(menuId => ({\r\n          menuId: parseInt(menuId, 10), // Convertir a número\r\n        }));\r\n\r\n      if (permissionsToSave.length === 0) {\r\n        setShowAlert({ severity: 'warning', message: 'No se ha seleccionado ningún menú.' });\r\n        return;\r\n      }\r\n\r\n      const response = await axios.post(\r\n        'http://localhost:5000/api/navigation/permissions/',\r\n        { roleId: parseInt(id, 10), permissions: permissionsToSave },\r\n        config\r\n      );\r\n\r\n      if (response.status === 201) {\r\n        setShowAlert({ severity: 'success', message: 'Permisos guardados exitosamente.' });\r\n      } else {\r\n        setShowAlert({ severity: 'error', message: 'Error al guardar permisos.' });\r\n      }\r\n    } catch (error) {\r\n      setShowAlert({ severity: 'error', message: 'Error al guardar permisos.' });\r\n    }\r\n  };\r\n\r\n  const organizedMenus = organizeMenus();\r\n\r\n  return (\r\n    <Box sx={{ padding: 5 }}>\r\n      {showAlert && (\r\n        <AlertMessage\r\n          severity={showAlert.severity}\r\n          message={showAlert.message}\r\n          autoHideDuration={2000}\r\n          sx={{ mb: 4 }}\r\n        />\r\n      )}\r\n\r\n      <Typography variant=\"h4\" textAlign=\"center\" gutterBottom>\r\n        Asignación de permisos\r\n      </Typography>\r\n\r\n      <Grid container spacing={2} sx={{ mb: 5 }}>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Nombre del Rol\"\r\n            value={rolName}\r\n            InputProps={{\r\n              readOnly: true,\r\n              style: { backgroundColor: '#f5f5f5' },\r\n            }}\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Descripción\"\r\n            value={descripcion}\r\n            InputProps={{\r\n              readOnly: true,\r\n              style: { backgroundColor: '#f5f5f5' },\r\n            }}\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {organizedMenus.map((menu) => (\r\n        <Accordion key={menu.MenuID}>\r\n          <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography variant=\"h6\">{menu.DisplayName}</Typography>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={selectedMenus[menu.MenuID] || false}\r\n                  onChange={() => handleMenuSelection(menu.MenuID)}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label={`Asignar modulo de ${menu.DisplayName}`}\r\n            />\r\n\r\n            {menu.subMenus.map((subMenu) => (\r\n              <Accordion key={subMenu.MenuID} sx={{ ml: 3 }}>\r\n                <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                  <Typography variant=\"subtitle1\">{subMenu.DisplayName}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Checkbox\r\n                        checked={selectedMenus[subMenu.MenuID] || false}\r\n                        onChange={() => handleMenuSelection(subMenu.MenuID)}\r\n                        color=\"primary\"\r\n                      />\r\n                    }\r\n                    label={`Permitir ver ${subMenu.DisplayName}`}\r\n                  />\r\n\r\n                  {subMenu.subSubMenus.map((subSubMenu) => (\r\n                    <Box key={subSubMenu.MenuID} sx={{ ml: 5 }}>\r\n                      <FormControlLabel\r\n                        control={\r\n                          <Checkbox\r\n                            checked={selectedMenus[subSubMenu.MenuID] || false}\r\n                            onChange={() => handleMenuSelection(subSubMenu.MenuID)}\r\n                            color=\"primary\"\r\n                          />\r\n                        }\r\n                        label={`Permitir ${subSubMenu.DisplayName}`}\r\n                      />\r\n                    </Box>\r\n                  ))}\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ))}\r\n          </AccordionDetails>\r\n        </Accordion>\r\n      ))}\r\n\r\n      <Button variant=\"contained\" color=\"primary\" onClick={savePermissions} sx={{ mt: 3 }}>\r\n        Guardar Permisos\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CrearPermisos;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}